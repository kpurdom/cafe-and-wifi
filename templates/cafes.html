{% include "header.html" %}

<div class="container-fluid">
    <div class="row">

        <div class="col-lg-6 mx-auto">
            <div class="cafe-list scroll">
                {% for cafe in all_cafes %}
                    <div class="card-img-top">
                        <img src="{{cafe.img_url}}" alt="{{cafe.name}} Image">
                    </div>
                    <div class="card-info-top">
                    <a href="{{ url_for('show_cafe_detail', cafe_id=cafe.id) }}">
                        <h5>{{cafe.name}}</h5>
                    </a>
                    <p> {{cafe.location}}<br><br>
                        {% if cafe.has_sockets: %}
                    <i class="fas fa-battery-full detail-icon"></i>
                    {% endif %}
                    {% if cafe.has_wifi: %}
                    <i class="fas fa-wifi detail-icon"></i>
                    {% endif %}
                    {% if cafe.has_toilet: %}
                    <i class="fas fa-restroom detail-icon"></i>
                    {% endif %}
                    {% if cafe.can_take_calls: %}
                    <i class="fas fa-phone-alt detail-icon"></i>
                    {% endif %}
                    </p>
                    </div>
                {% endfor %}
            </div>
        </div>

        <div class="col-lg-6">
        <div id="map"></div>
        <script type="text/javascript">
          // The first parameter are the coordinates of the center of the map
          // The second parameter is the zoom level
          var map = L.map('map').setView([51.504, -0.087], 12);

            var layer = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="https://cartodb.com/attributions">CartoDB</a>'
          });
          map.addLayer(layer);
          {% for cafe in all_cafes %}
          {% if cafe.latitude!=0: %}
          L.marker([{{cafe.latitude}}, {{cafe.longitude}}]).addTo(map)
          .bindPopup("<strong>{{cafe.name}}</strong>").openPopup();
          {% endif %}
          {% endfor %}

        </script>
        </div>
    </div>
</div>

{% include "footer.html" %}